!function(o){"use strict";o.fn.equalHeightsDestroy=function(){return o(this).css({height:"auto","min-height":"0px"}),this},o.fn.equalHeights=function(e){var t=o.extend({container:null},e),n=0,a=0,i=o(this);return i.css({height:"auto","min-height":"0px"}).each(function(){var e=o(this);e.height()>n&&(n=e.height(),a=e.outerHeight())}).css({height:a,"min-height":a}),null!=t.container&&i.parents(t.container).css({height:a,"min-height":a}),this}}(jQuery),function(r){"use strict";var e=window.dfd_dash||{};(window.dfd_dash=e).eqHeights=function(){r(window).on("load resize",function(){r(".dfd-dashboard-section > .inner").equalHeights()})},e.activateTheme=function(){var o="action=dfd_register_theme";return r("body").on("click",".dfd-get-activation-form",function(e){e.preventDefault(),r(this).removeClass("dfd-get-activation-form").addClass("dfd-submit-activation").parents(".content").find(".front").hide().next(".back").show()}),void r("body").on("click",".dfd-submit-activation:not(.running)",function(e){e.preventDefault();var t=r("#dfd-ronneby-purchase-code"),n=t.val(),a=r(this),i=a.attr("data-redirect");return a.addClass("running"),t.parent().removeClass("validation-error").find(".empty-field").hide().next(".wrong-code").hide(),r(window).trigger("resize"),""==n?(t.addClass("dfd-shake").parent().addClass("validation-error").find(".empty-field").show(),r(window).trigger("resize"),setTimeout(function(){t.removeClass("dfd-shake")},1500)):(o+="&nonce="+ajax_var.nonce+"&code="+n,r.ajax({type:"post",url:ajax_var.url,data:o,complete:function(e){200==e.status&&""!=e.responseText&&("0"==e.responseText?i?location.href=i:location.reload(!0):"invalid-code"==e.responseText&&(t.addClass("dfd-shake").parent().addClass("validation-error").find(".wrong-code").show(),r(window).trigger("resize"),setTimeout(function(){t.removeClass("dfd-shake")},1500)))}})),a.removeClass("running"),!1})},e.deactivateTheme=function(){r("body").on("click",".dfd-deactivate-theme:not(.running)",function(e){return e.preventDefault(),r(this).addClass("running"),r.ajax({type:"post",url:ajax_var.url,data:"action=dfd_deactivate_theme&nonce="+ajax_var.nonce,complete:function(e){200==e.status&&"0"==e.responseText&&location.reload(!0)}}),r(this).removeClass("running"),!1})},e.deactivateManually=function(){r("body").on("click","#dfd-manual-deactivate-popup-button, .dfd-menual-deactivate-close",function(e){return e.preventDefault(),r("#dfd-manual-deactivate-popup").toggleClass("active"),!1}),r("body").on("click",".dfd-deactivate-theme-manually:not(.running)",function(e){e.preventDefault();var t=r(this),n=t.siblings(".dfd-deactivate-puchase-code"),a=n.val();return n.removeClass("error"),a?(t.addClass("running"),r.ajax({type:"post",url:ajax_var.url,data:"action=dfd_deactivate_theme_manually&code="+a+"&nonce="+ajax_var.nonce,complete:function(e){200==e.status&&"0"==e.responseText&&location.reload(!0)}}),t.removeClass("running")):n.addClass("error"),!1})},e.updateTheme=function(){},e.installDemo=function(){r("body").on("click",".dfd-remove-popup",function(e){e.preventDefault();var t=r("#dfd-theme-activation-required-popup");0<t.length&&(t.removeClass("active"),setTimeout(function(){t.remove()},300))}),r(".dfd-activation-required:not(.running)").on("click",function(e){return e.preventDefault(),r(this).addClass("running"),r.ajax({type:"post",url:ajax_var.url,data:"action=dfd_registration_alert&nonce="+ajax_var.nonce,complete:function(e){200==e.status&&""!=e.responseText&&(r("body").append(e.responseText),r("#dfd-theme-activation-required-popup").addClass("active"))}}),r(this).removeClass("running"),!1})},e.init=function(){e.eqHeights(),e.activateTheme(),e.deactivateTheme(),e.deactivateManually(),e.updateTheme(),e.installDemo()},e.init()}(jQuery);